self.addEventListener("push",(function(e){const t=e.data.text();if("callDisconnected"!==t){const e="getTokboxAPI"===t?"Talktree Call":"Talktree Message",n={body:"getTokboxAPI"===t?"":`You received a message: ${t}`,vibrate:[500,250,500,250,500,250,500]};self.registration.showNotification(e,n)}clients.matchAll().then((function(e){e.forEach((e=>{!function(e,t){new Promise((function(n,o){const s=new MessageChannel;s.port1.onmessage=function(e){e.data.error?o(e.data.error):n(e.data)},e.postMessage(t,[s.port2])}))}(e,{message:"callDisconnected"===t?"callDisconnected":"getTokboxAPI"===t?"sessionCreated":t})}))}))})),self.addEventListener("notificationclick",(function(e){e.notification.close();let t=null;const n=clients.matchAll().then((function(e){e.forEach((e=>{if("https://dev.talktree.me/phone"!==e.url&&"https://talktree.me/phone"!==e.url||(t=e),t)return t.focus()}))}));e.waitUntil(n)}));